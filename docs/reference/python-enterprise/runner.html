<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-reference/python-enterprise/runner">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Runner | Cogment</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cogment.ai/img/cogment_logo_meta.png"><meta data-rh="true" name="twitter:image" content="https://cogment.ai/img/cogment_logo_meta.png"><meta data-rh="true" property="og:url" content="https://cogment.ai/docs/reference/python-enterprise/runner"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Runner | Cogment"><meta data-rh="true" name="description" content="This is part of the Cogment Enterprise, AI Redefined&#x27;s commercial offering."><meta data-rh="true" property="og:description" content="This is part of the Cogment Enterprise, AI Redefined&#x27;s commercial offering."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://cogment.ai/docs/reference/python-enterprise/runner"><link data-rh="true" rel="alternate" href="https://cogment.ai/docs/reference/python-enterprise/runner" hreflang="en"><link data-rh="true" rel="alternate" href="https://cogment.ai/docs/reference/python-enterprise/runner" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-146998765-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><link rel="stylesheet" href="/assets/css/styles.0519bed2.css">
<link rel="preload" href="/assets/js/runtime~main.6978e51c.js" as="script">
<link rel="preload" href="/assets/js/main.3dd2e782.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cogment_logo.svg" alt="Cogment" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/cogment_logo.svg" alt="Cogment" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/cogment_verse">Cogment Verse</a><a href="https://github.com/cogment" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/community-channels">Community</a><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/community-channels">Community</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/guide/core-concepts">Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/core-concepts">Core Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/development-guide">Development guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/guide/tutorial">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/guide/implementation-recipes">Implementation Recipes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Implementation Recipes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/reference/cogment-yaml">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/cogment-yaml">Spec File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/parameters">Trial Parameters</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/reference/cli">CLI</a><button aria-label="Toggle the collapsible sidebar category &#x27;CLI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/python">Python SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/javascript">Javascript SDK</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/reference/python-enterprise/installation">Enterprise Python SDK</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/python-enterprise/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/python-enterprise/runner">Runner</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/grpc">gRPC API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/cogment-v2-changes">Cogment 2.0</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/license">Apache License</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Enterprise Python SDK</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Runner</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Runner</h1><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Cogment Enterprise</div><div class="admonitionContent_S0QG"><p>This is part of the <strong>Cogment Enterprise</strong>, <a href="https://ai-r.com/" target="_blank" rel="noopener noreferrer">AI Redefined&#x27;s</a> commercial offering.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-usage">General usage<a href="#general-usage" class="hash-link" aria-label="Direct link to General usage" title="Direct link to General usage">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="asyncio"><code>asyncio</code><a href="#asyncio" class="hash-link" aria-label="Direct link to asyncio" title="Direct link to asyncio">​</a></h3><p>The use of this module requires <a href="/docs/reference/python">Cogment Python SDK</a> &gt;= 2.8.0. It uses Python&#x27;s <code>asyncio</code> library and as such should be run in an <code>asyncio.Task</code>.
This documentation assumes some familiarity with the <code>asyncio</code> library of Python (see <a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="noopener noreferrer">Python documentation</a>).</p><p>E.g.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> asyncio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">asyncio</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MyMainFunction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logging">Logging<a href="#logging" class="hash-link" aria-label="Direct link to Logging" title="Direct link to Logging">​</a></h3><p>This module uses the <code>cogment.enterprise</code> logger, and the default log level is <code>INFO</code>. E.g. to change the log level to <code>WARNING</code>:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> cogment_enterprise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> logging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">getLogger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cogment.enterprise&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">setLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">WARNING</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or set the environment variable <code>COGMENT_ENTERPRISE_LOG_LEVEL</code> to one of the values: <code>off</code>, <code>error</code>, <code>warning</code>, <code>info</code>, <code>debug</code>, <code>trace</code>.
The logging works the same as Cogment Python SDK logging (see Cogment Python SDK documentation).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="trial-specifications">Trial Specifications<a href="#trial-specifications" class="hash-link" aria-label="Direct link to Trial Specifications" title="Direct link to Trial Specifications">​</a></h3><p>This module is designed to work without any trial specifications (i.e. <code>cog_settings</code>), but is easier to use if the specification are available.</p><p>If the specifications are not provided, some internal object deserializations will not happen (e.g. <code>sample.observation</code>), and special serialized versions will have to be used (e.g. <code>sample.observation_serialized</code>).
Helper functions are provided for deserializing the various defined objects in the specifications (see below).</p><p>Objects normally received as <code>google.protobuf.Any</code> will still be deserialized to such an object as it does not depend on the specification of the trial.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="top-level-import">Top-level import<a href="#top-level-import" class="hash-link" aria-label="Direct link to Top-level import" title="Direct link to Top-level import">​</a></h3><p>The main module of the Runner SDK is <code>cogment_enterprise.runner</code>, and most enterprise scripts will start with a <a href="#class-cogment_enterpriserunnertrialrunner">cogment_enterprise.runner.TrialRunner</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilities-and-constants">Utilities and Constants<a href="#utilities-and-constants" class="hash-link" aria-label="Direct link to Utilities and Constants" title="Direct link to Utilities and Constants">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cogment_enterpriserunnerbatch_id_property"><code>cogment_enterprise.runner.BATCH_ID_PROPERTY</code><a href="#cogment_enterpriserunnerbatch_id_property" class="hash-link" aria-label="Direct link to cogment_enterpriserunnerbatch_id_property" title="Direct link to cogment_enterpriserunnerbatch_id_property">​</a></h3><p>This is the name of the trial property where the batch ID is stored.
Each trial started by a batch will have this property.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">batch_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> trial_parameters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">cogment_enterprise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">runner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BATCH_ID_PROPERTY</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cogment_enterpriserunnerbatch_trial_index_property"><code>cogment_enterprise.runner.BATCH_TRIAL_INDEX_PROPERTY</code><a href="#cogment_enterpriserunnerbatch_trial_index_property" class="hash-link" aria-label="Direct link to cogment_enterpriserunnerbatch_trial_index_property" title="Direct link to cogment_enterpriserunnerbatch_trial_index_property">​</a></h3><p>This is the name of the trial property where the index of the trial in the batch is stored.
Each trial started by a batch will have this property.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">trial_index_in_batch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> trial_parameters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">cogment_enterprise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">runner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BATCH_TRIAL_INDEX_PROPERTY</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cogment_enterpriserunnerbatch_last_trial_property"><code>cogment_enterprise.runner.BATCH_LAST_TRIAL_PROPERTY</code><a href="#cogment_enterpriserunnerbatch_last_trial_property" class="hash-link" aria-label="Direct link to cogment_enterpriserunnerbatch_last_trial_property" title="Direct link to cogment_enterpriserunnerbatch_last_trial_property">​</a></h3><p>This is the name of the trial property that will be set on the last trial of the batch.
The property value is empty, it&#x27;s presence indicates that this is the last trial of the batch.
Only one trial in a batch may have this property.</p><p>Note that there may not be a trial with this property if the batch was stopped prematurely.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">last_trial </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cogment_enterprise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">runner</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BATCH_LAST_TRIAL_PROPERTY </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> trial_parameters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">properties</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cogment_enterpriserunnerdeserialize_actionserialized_data-actor_class-cog_settings"><code>cogment_enterprise.runner.deserialize_action(serialized_data, actor_class, cog_settings)</code><a href="#cogment_enterpriserunnerdeserialize_actionserialized_data-actor_class-cog_settings" class="hash-link" aria-label="Direct link to cogment_enterpriserunnerdeserialize_actionserialized_data-actor_class-cog_settings" title="Direct link to cogment_enterpriserunnerdeserialize_actionserialized_data-actor_class-cog_settings">​</a></h3><p>Function to deserialize raw data into a Python class instance.</p><p>The data can only be deserialized by knowing the protobuf message it represents.
It can be done manually if one knows the protobuf message represented.
This function simplifies deserialization of messages related to a Cogment project with the trial spec module <code>cog_settings</code>.</p><p>Parameters:</p><ul><li><code>serialized_data</code>: <em>bytes</em> - Raw data received.</li><li><code>actor_class</code>: <em>str</em> - Name of the class of the actor to which this data relates. This information is necessary to find the proper message type in the spec.</li><li><code>cog_settings</code>: <em>module</em> - Specification module associated with the trial from which the data relates.</li></ul><p>Return: <em>protobuf class instance</em> - Action from an actor of type <code>actor_class</code>. The class of the action is defined as action space for the specific actor class in the section <code>actor_classes:action:space</code> in the spec file (e.g. <code>cog_settings</code>). <code>None</code> if <code>serialized_data</code> is <code>None</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cogment_enterpriserunnerdeserialize_actor_observationserialized_data-actor_class-cog_settings"><code>cogment_enterprise.runner.deserialize_actor_observation(serialized_data, actor_class, cog_settings)</code><a href="#cogment_enterpriserunnerdeserialize_actor_observationserialized_data-actor_class-cog_settings" class="hash-link" aria-label="Direct link to cogment_enterpriserunnerdeserialize_actor_observationserialized_data-actor_class-cog_settings" title="Direct link to cogment_enterpriserunnerdeserialize_actor_observationserialized_data-actor_class-cog_settings">​</a></h3><p>Function to deserialize raw data into a Python class instance.</p><p>The data can only be deserialized by knowing the protobuf message it represents.
It can be done manually if one knows the protobuf message represented.
This function simplifies deserialization of messages related to a Cogment project with the trial spec module <code>cog_settings</code>.</p><p>Parameters:</p><ul><li><code>serialized_data</code>: <em>bytes</em> - Raw data received.</li><li><code>actor_class</code>: <em>str</em> - Name of the class of the actor to which this data relates. This information is necessary to find the proper message type in the spec.</li><li><code>cog_settings</code>: <em>module</em> - Specification module associated with the trial from which the data relates.</li></ul><p>Return: <em>protobuf class instance</em> - Observation for an actor of type <code>actor_class</code>. The class of the observation is defined as observation space for the specific actor class in the section <code>actor_classes:observation:space</code> in the spec file (e.g. <code>cog_settings</code>). <code>None</code> if <code>serialized_data</code> is <code>None</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cogment_enterpriserunnerdeserialize_actor_configserialized_data-actor_class-cog_settings"><code>cogment_enterprise.runner.deserialize_actor_config(serialized_data, actor_class, cog_settings)</code><a href="#cogment_enterpriserunnerdeserialize_actor_configserialized_data-actor_class-cog_settings" class="hash-link" aria-label="Direct link to cogment_enterpriserunnerdeserialize_actor_configserialized_data-actor_class-cog_settings" title="Direct link to cogment_enterpriserunnerdeserialize_actor_configserialized_data-actor_class-cog_settings">​</a></h3><p>Function to deserialize raw data into a Python class instance.</p><p>The data can only be deserialized by knowing the protobuf message it represents.
It can be done manually if one knows the protobuf message represented.
This function simplifies deserialization of messages related to a Cogment project with the trial spec module <code>cog_settings</code>.</p><p>Parameters:</p><ul><li><code>serialized_data</code>: <em>bytes</em> - Raw data received.</li><li><code>actor_class</code>: <em>str</em> - Name of the class of the actor to which this data relates. This information is necessary to find the proper message type in the spec.</li><li><code>cog_settings</code>: <em>module</em> - Specification module associated with the trial from which the data relates.</li></ul><p>Return: <em>protobuf class instance</em> - Config for an actor of type <code>actor_class</code>. The class of the config is defined as config type for the specific actor class in the section <code>actor_classes:config_type</code> in the spec file (e.g. <code>cog_settings</code>). <code>None</code> if <code>serialized_data</code> is <code>None</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cogment_enterpriserunnerdeserialize_environment_configserialized_data-cog_settings"><code>cogment_enterprise.runner.deserialize_environment_config(serialized_data, cog_settings)</code><a href="#cogment_enterpriserunnerdeserialize_environment_configserialized_data-cog_settings" class="hash-link" aria-label="Direct link to cogment_enterpriserunnerdeserialize_environment_configserialized_data-cog_settings" title="Direct link to cogment_enterpriserunnerdeserialize_environment_configserialized_data-cog_settings">​</a></h3><p>Function to deserialize raw data into a Python class instance.</p><p>The data can only be deserialized by knowing the protobuf message it represents.
It can be done manually if one knows the protobuf message represented.
This function simplifies deserialization of messages related to a Cogment project with the trial spec module <code>cog_settings</code>.</p><p>Parameters:</p><ul><li><code>serialized_data</code>: <em>bytes</em> - Raw data received.</li><li><code>cog_settings</code>: <em>module</em> - Specification module associated with the trial from which the data relates.</li></ul><p>Return: <em>protobuf class instance</em> - Config for the environment. The class of the config is defined as config type in the section <code>environment:config_type</code> in the spec file (e.g. <code>cog_settings</code>). <code>None</code> if <code>serialized_data</code> is <code>None</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cogment_enterpriserunnerdeserialize_trial_configserialized_data-cog_settings"><code>cogment_enterprise.runner.deserialize_trial_config(serialized_data, cog_settings)</code><a href="#cogment_enterpriserunnerdeserialize_trial_configserialized_data-cog_settings" class="hash-link" aria-label="Direct link to cogment_enterpriserunnerdeserialize_trial_configserialized_data-cog_settings" title="Direct link to cogment_enterpriserunnerdeserialize_trial_configserialized_data-cog_settings">​</a></h3><p>Function to deserialize raw data into a Python class instance.</p><p>The data can only be deserialized by knowing the protobuf message it represents.
It can be done manually if one knows the protobuf message represented.
This function simplifies deserialization of messages related to a Cogment project with the trial spec module <code>cog_settings</code>.</p><p>Parameters:</p><ul><li><code>serialized_data</code>: <em>bytes</em> - Raw data received.</li><li><code>cog_settings</code>: <em>module</em> - Specification module associated with the trial from which the data relates.</li></ul><p>Return: <em>protobuf class instance</em> - Config for the trial. The class of the config is defined as config type in the section <code>trial:config_type</code> in the spec file (e.g. <code>cog_settings</code>). <code>None</code> if <code>serialized_data</code> is <code>None</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-cogment_enterpriserunnertrialrunner">class cogment_enterprise.runner.TrialRunner<a href="#class-cogment_enterpriserunnertrialrunner" class="hash-link" aria-label="Direct link to class cogment_enterprise.runner.TrialRunner" title="Direct link to class cogment_enterprise.runner.TrialRunner">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="__init__self-user_id-cog_settingsnone-asyncio_loopnone-directory_endpointnone-directory_auth_tokennone-orchestrator_endpointnone-datastore_endpointnone-model_registrynone"><code>__init__(self, user_id, cog_settings=None, asyncio_loop=None, directory_endpoint=None, directory_auth_token=None, orchestrator_endpoint=None, datastore_endpoint=None, model_registry=None)</code><a href="#__init__self-user_id-cog_settingsnone-asyncio_loopnone-directory_endpointnone-directory_auth_tokennone-orchestrator_endpointnone-datastore_endpointnone-model_registrynone" class="hash-link" aria-label="Direct link to __init__self-user_id-cog_settingsnone-asyncio_loopnone-directory_endpointnone-directory_auth_tokennone-orchestrator_endpointnone-datastore_endpointnone-model_registrynone" title="Direct link to __init__self-user_id-cog_settingsnone-asyncio_loopnone-directory_endpointnone-directory_auth_tokennone-orchestrator_endpointnone-datastore_endpointnone-model_registrynone">​</a></h3><p>Parameters:</p><ul><li><code>user_id</code>: <em>str</em> - Identifier for the user of this context.</li><li><code>cog_settings</code>: <em>module</em> - Settings module associated with trials that will be run (<a href="#cog_settings.py">cog_settings</a> namespace).</li><li><code>asyncio_loop</code>: <em>asyncio.Loop</em> - For special purpose implementations.</li><li><code>directory_endpoint</code>: <em>Endpoint instance</em> - Grpc endpoint (i.e. starting with &quot;grpc://&quot;) to access the directory. The directory will be used to inquire discovery endpoints, and to register the services for discovery. If no endpoint is provided, a check for the environment variable <code>COGMENT_DIRECTORY_ENDPOINT</code> will be made and if it exists, it will be used as the URL of a basic endpoint.</li><li><code>directory_auth_token</code>: <em>str</em> - Authentication token for access to the directory. This token will be registered with the services, and must match registered tokens when inquiring the directory. If no token is provided, a check for the environment variable <code>COGMENT_DIRECTORY_AUTHENTICATION_TOKEN</code> will be made and if it exists, it will be used as the token.</li><li><code>orchestrator_endpoint</code>: <em>Endpoint instance</em> - Details of the connection to the Orchestrator. If not provided, the directory will be inquired. Only needed for running batches, not for training.</li><li><code>datastore_endpoint</code>: <em>Endpoint instance</em> - Details of the connection to the Datastore. If not provided, the directory will be inquired if necessary. This will be used as the datalog endpoint of the trials started by the batch. And it will be used as the source of samples for training.</li><li><code>model_registry_endpoint</code>: <em>Endpoint instance</em> - Details of the connection to the Model Registry. If not provided, the directory will be inquired if necessary. Only needed for training, not running batches.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-get_controllerself"><code>async get_controller(self)</code><a href="#async-get_controllerself" class="hash-link" aria-label="Direct link to async-get_controllerself" title="Direct link to async-get_controllerself">​</a></h3><p>Returns the Controller used by the TrialRunner.</p><p>Parameters: None</p><p>Return: <em>cogment.Controller instance</em> - An instance of <code>cogment.Controller</code> class used to manage trials.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-get_datastoreself"><code>async get_datastore(self)</code><a href="#async-get_datastoreself" class="hash-link" aria-label="Direct link to async-get_datastoreself" title="Direct link to async-get_datastoreself">​</a></h3><p>Returns the Datastore used by the TrialRunner.</p><p>Parameters: None</p><p>Return: <em>cogment.Datastore instance</em> - Datastore.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-get_model_registryself"><code>async get_model_registry(self)</code><a href="#async-get_model_registryself" class="hash-link" aria-label="Direct link to async-get_model_registryself" title="Direct link to async-get_model_registryself">​</a></h3><p>Returns the Model Registry used by the TrialRunner.</p><p>Parameters: None</p><p>Return: <em>cogment.ModelRegistry instance</em> - Model Registry.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-run_simple_batchself-nb_trials-nb_parallel_trials1-idnone-pre_trial_callbacknone-post_trial_callbacknone"><code>async run_simple_batch(self, nb_trials, nb_parallel_trials=1, id=None, pre_trial_callback=None, post_trial_callback=None)</code><a href="#async-run_simple_batchself-nb_trials-nb_parallel_trials1-idnone-pre_trial_callbacknone-post_trial_callbacknone" class="hash-link" aria-label="Direct link to async-run_simple_batchself-nb_trials-nb_parallel_trials1-idnone-pre_trial_callbacknone-post_trial_callbacknone" title="Direct link to async-run_simple_batchself-nb_trials-nb_parallel_trials1-idnone-pre_trial_callbacknone-post_trial_callbacknone">​</a></h3><p>Method to start a batch of trials.</p><p>Parameters:</p><ul><li><code>nb_trials</code>: <em>int</em> - The number of trials to run.</li><li><code>nb_parallel_trials</code>: <em>int</em> - The number of trials to run in parallel. Must be &lt;= <code>nb_trials</code>.</li><li><code>id</code>: <em>str</em> - ID of the batch. This will be added to the properties of the trials that are started by the batch. This should be unique in the Datastore, otherwise there could be a clash of trial IDs (a mix of trials from different batches could also be used by the <code>BatchTrainer</code>). If <code>None</code>, an ID will be chosen by the system.</li><li><code>pre_trial_callback</code>: <em>async func(BatchTrialInfo instance) -&gt; cogment.TrialParameters</em> - This <a href="#callbacks">Callbacks</a> function will be called before any new trial is started.</li><li><code>post_trial_callback</code>: <em>async func(sample, trial_parameters, model_registry)</em> - This <a href="#callbacks">Callbacks</a> function will be called after the end of a trial.</li></ul><p>Return: <em>TrialBatch instance</em> - An instance of the <code>TrialBatch</code> class.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-run_simple_trainingself-batch-sampler_callback-actor_namesnone-max_trial_waitnone"><code>async run_simple_training(self, batch, sampler_callback, actor_names=None, max_trial_wait=None)</code><a href="#async-run_simple_trainingself-batch-sampler_callback-actor_namesnone-max_trial_waitnone" class="hash-link" aria-label="Direct link to async-run_simple_trainingself-batch-sampler_callback-actor_namesnone-max_trial_waitnone" title="Direct link to async-run_simple_trainingself-batch-sampler_callback-actor_namesnone-max_trial_waitnone">​</a></h3><p>Method to start training on a batch of trials with a per-sample callback.</p><p>Parameters:</p><ul><li><code>batch</code>: <em>TrialBatch instance</em> - The batch to train on. This will be used to identify the trials that are part of the batch and retrieve only the samples from these trials.</li><li><code>sampler_callback</code>: <em>async func(cogment.DatastoreSample, cogment.TrialParameters, cogment.ModelRegistry) -&gt; bool</em> - This <a href="#callbacks">Callbacks</a> function will be called for every sample in the batch.</li><li><code>actor_names</code>: <em>list<!-- -->[str]</em> - Names of actors to include in the samples. If <code>None</code>, all actors will be included.</li><li><code>max_trial_wait</code>: <em>int</em> - Maximum number of seconds to wait for new trials to be started by the batch. Since this depends on the running time of trials, this should be longer than the expected max trial duration. If <code>None</code>, then 86400 seconds (24 hours) will be used.</li></ul><p>Return: <em>BatchTrainer instance</em> - An instance of the <code>BatchTrainer</code> class.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-run_simple_trial_trainingself-batch-trial_callback-actor_namesnone-max_trial_waitnone"><code>async run_simple_trial_training(self, batch, trial_callback, actor_names=None, max_trial_wait=None)</code><a href="#async-run_simple_trial_trainingself-batch-trial_callback-actor_namesnone-max_trial_waitnone" class="hash-link" aria-label="Direct link to async-run_simple_trial_trainingself-batch-trial_callback-actor_namesnone-max_trial_waitnone" title="Direct link to async-run_simple_trial_trainingself-batch-trial_callback-actor_namesnone-max_trial_waitnone">​</a></h3><p>Method to start training on a batch of trials.</p><p>Parameters:</p><ul><li><code>batch</code>: <em>TrialBatch instance</em> - The batch to train on. This will be used to identify the trials that are part of the batch and retrieve only the samples from these trials.</li><li><code>trial_callback</code>: <em>async func(cogment.DatastoreSample, cogment.TrialParameters, cogment.ModelRegistry) -&gt; bool</em> - This <a href="#callbacks">Callbacks</a> function will be called for every trial in the batch.</li><li><code>actor_names</code>: <em>list<!-- -->[str]</em> - Names of actors to include in the samples. If <code>None</code>, all actors will be included.</li><li><code>max_trial_wait</code>: <em>int</em> - Maximum number of seconds to wait for new trials to be started by the batch. Since this depends on the running time of trials, this should be longer than the expected max trial duration. If <code>None</code>, then 86400 seconds (24 hours) will be used.</li></ul><p>Return: <em>BatchTrainer instance</em> - An instance of the <code>BatchTrainer</code> class.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-trialbatch">class TrialBatch<a href="#class-trialbatch" class="hash-link" aria-label="Direct link to class TrialBatch" title="Direct link to class TrialBatch">​</a></h2><p>Class to run a batch of related trials.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="initself-id-controller-nb_trials-pre_trial_callback-post_trial_callback-datalog_endpoint"><strong>init</strong>(self, id, controller, nb_trials, pre_trial_callback, post_trial_callback, datalog_endpoint)<a href="#initself-id-controller-nb_trials-pre_trial_callback-post_trial_callback-datalog_endpoint" class="hash-link" aria-label="Direct link to initself-id-controller-nb_trials-pre_trial_callback-post_trial_callback-datalog_endpoint" title="Direct link to initself-id-controller-nb_trials-pre_trial_callback-post_trial_callback-datalog_endpoint">​</a></h3><p>The parameters are the same as provided to <a href="#class-cogment_enterpriserunnertrialrunner"><code>run_simple_batch</code></a>.</p><p>Parameters:</p><ul><li><code>id</code>: <em>str</em> - ID of the batch. This will be added to the properties of the trials that are started by the batch. This should be unique in the Datastore, otherwise there could be a clash of trial IDs (a mix of trials from different batches could also be used by the <code>BatchTrainer</code>). If <code>None</code>, an ID will be chosen by the system.</li><li><code>controller</code>: <em>cogment.Controller instance</em> - Controller used to start trials.</li><li><code>nb_trials</code>: <em>int</em> - Number of trials to run.</li><li><code>pre_trial_callback</code>: <em>async func(BatchTrialInfo instance) -&gt; cogment.TrialParameters</em> - This <a href="#callbacks">Callbacks</a> function will be called before any new trial is started. If None, then the parameters for the trials will come from the Orchestrator defaults and pre-trial hooks (see Cogment Orchestrator documentation). In which case the <code>BatchTrainer</code> cannot work with this batch (because the necessary trial properties cannot be set).</li><li><code>post_trial_callback</code>: <em>async func(sample, trial_parameters, model_registry)</em> - This <a href="#callbacks">Callbacks</a> function will be called after the end of a trial. If None, then no call will happen at the end of trials.</li><li><code>datalog_endpoint</code>: <em>cogment.Endpoint instance</em> - Details of the connection to the Datalog that will be set for the trials.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="start_trialsself-nb_trials"><code>start_trials(self, nb_trials)</code><a href="#start_trialsself-nb_trials" class="hash-link" aria-label="Direct link to start_trialsself-nb_trials" title="Direct link to start_trialsself-nb_trials">​</a></h3><p>Method to start the batch. At least one trial must be started for the batch to run.</p><p>This will start the trials in parallel. The batch will maintain active the number of trials started by this method by starting a new trial when one ends.</p><ul><li><code>nb_trials</code>: <em>int</em> - Number of trials to start that will be running in parallel. Any new calls of this method on a running batch will just add to the number of trials running in parallel.</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pauseself"><code>pause(self)</code><a href="#pauseself" class="hash-link" aria-label="Direct link to pauseself" title="Direct link to pauseself">​</a></h3><p>Method to pause the running of the batch. It stops any new trial from starting, but does not stop currently running trials. Even if all running trials end, the batch is not considered done until it is resumed, stopped or terminated.</p><p>Parameters: None</p><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="resumeself"><code>resume(self)</code><a href="#resumeself" class="hash-link" aria-label="Direct link to resumeself" title="Direct link to resumeself">​</a></h3><p>Method to restart a batch that was <a href="#pauseself">paused</a>. It resumes the starting of new trials in the batch.</p><p>Parameters: None</p><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stopself"><code>stop(self)</code><a href="#stopself" class="hash-link" aria-label="Direct link to stopself" title="Direct link to stopself">​</a></h3><p>Method to stop the batch. It stops new trials from starting, and currently running trials continue to their normal end. Once all trials have ended, the batch is done.</p><p>Parameters: None</p><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="terminateself-hardfalse"><code>terminate(self, hard=False)</code><a href="#terminateself-hardfalse" class="hash-link" aria-label="Direct link to terminateself-hardfalse" title="Direct link to terminateself-hardfalse">​</a></h3><p>Method to terminate the batch. It stops new trials from starting, and currently running trials are terminated. The batch is then considered done.</p><p>Parameters:</p><ul><li><code>hard</code>: <em>bool</em> - If True the trials are sent a &quot;hard&quot; terminate, otherwise they are sent a &quot;soft&quot; terminate (see Python Documentation &quot;Controller.terminate_trial&quot;).</li></ul><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="is_runningself"><code>is_running(self)</code><a href="#is_runningself" class="hash-link" aria-label="Direct link to is_runningself" title="Direct link to is_runningself">​</a></h3><p>Method to inquire whether the batch is done or not.</p><p>Parameters: None</p><p>Return: <em>bool</em> - True if the batch is still running. I.e. there are still trials running or it is paused. False otherwise.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nb_trials_runself"><code>nb_trials_run(self)</code><a href="#nb_trials_runself" class="hash-link" aria-label="Direct link to nb_trials_runself" title="Direct link to nb_trials_runself">​</a></h3><p>Method to inquire the number of trials run so far.</p><p>Parameters: None</p><p>Return: <em>int</em> - Number of trials that were run (and ended) so far in the batch.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-waitself-timeout"><code>async wait(self, timeout)</code><a href="#async-waitself-timeout" class="hash-link" aria-label="Direct link to async-waitself-timeout" title="Direct link to async-waitself-timeout">​</a></h3><p>Method to wait for the batch to be done. The batch will end normally when all trials have run and ended. The batch can also be stopped, terminated, or encounter an error to become done.</p><p>Parameters:</p><ul><li><code>timeout</code>: <em>float</em> - Maximum time to wait in seconds.</li></ul><p>Return: <em>bool</em> - True if the batch ended normally with the last trial tagged as such. False otherwise. <code>None</code> if timed out.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-batchtrainer">class BatchTrainer<a href="#class-batchtrainer" class="hash-link" aria-label="Direct link to class BatchTrainer" title="Direct link to class BatchTrainer">​</a></h2><p>Class to help train a model on a specific batch of trials.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="__init__self-batch_spec-datastore-model_registry-trial_callback-max_trial_wait"><code>__init__(self, batch_spec, datastore, model_registry, trial_callback, max_trial_wait)</code><a href="#__init__self-batch_spec-datastore-model_registry-trial_callback-max_trial_wait" class="hash-link" aria-label="Direct link to __init__self-batch_spec-datastore-model_registry-trial_callback-max_trial_wait" title="Direct link to __init__self-batch_spec-datastore-model_registry-trial_callback-max_trial_wait">​</a></h3><p>Parameters:</p><ul><li><code>batch_spec</code>: <em>str</em> or <em>dict{str:str}</em> or <em>list<!-- -->[str]</em> or <em>TrialBatch instance</em> - If a string, it represents a batch ID of the trials to use for training. If a dictionary, it represents the properties of the trials to use for training. If a list, it represents the list of trial IDs to use for training. If an instance of <code>TrialBatch</code>, then the trials started by that batch will be used for training. For anything other than a <code>TrialBatch</code> instance, there is no reliable way to know if an ongoing batch has ended, therefore the trainer will have to manually be stopped or use <code>max_trial_wait</code> to stop automatically.</li><li><code>datastore</code>: <em>cogment.Datastore instance</em> - The datastore used to retrieve the samples.</li><li><code>model_registry</code>: <em>cogment.ModelRegistry instance</em> - The registry that will be passed to the callbacks.</li><li><code>trial_callback</code>: same parameter as provided to <a href="#async-run_simple_trainingself-batch-trial_callback-actor_names"><code>run_simple_training</code></a>.</li><li><code>max_trial_wait</code>: <em>int</em> - Maximum number of seconds to wait for a new trial. If <code>batch_spec</code> is an instance of <code>TrialBatch</code> then this wait is for new trials to be started by the batch. Otherwise, this wait if for trials that match <code>batch_spec</code> to appear in the datastore (If set to 0, then only trials already in the datastore will be used).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="startself-actor_names-actor_classes-actor_implementations-fields"><code>start(self, actor_names=[], actor_classes=[], actor_implementations=[], fields=[])</code><a href="#startself-actor_names-actor_classes-actor_implementations-fields" class="hash-link" aria-label="Direct link to startself-actor_names-actor_classes-actor_implementations-fields" title="Direct link to startself-actor_names-actor_classes-actor_implementations-fields">​</a></h3><p>Method to start training.</p><p>Parameters: Same as <code>cogment.Datastore.all_samples</code> of the same name. These parameters will be passed as-is to the datastore <code>all_sample</code> method.</p><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="terminateself"><code>terminate(self)</code><a href="#terminateself" class="hash-link" aria-label="Direct link to terminateself" title="Direct link to terminateself">​</a></h3><p>Method to terminate training.
The callback tasks will be cancelled.</p><p>Parameters: None</p><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-stopself"><code>async stop(self)</code><a href="#async-stopself" class="hash-link" aria-label="Direct link to async-stopself" title="Direct link to async-stopself">​</a></h3><p>Method to stop training.
Stops retrieving trials from the Datastore.
All trials already started will continue training.</p><p>Parameters: None</p><p>Return: None</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="is_runningself-1"><code>is_running(self)</code><a href="#is_runningself-1" class="hash-link" aria-label="Direct link to is_runningself-1" title="Direct link to is_runningself-1">​</a></h3><p>Method to inquire whether the training is done or not.</p><p>Parameters: None</p><p>Return: <em>bool</em> - True if the training is still running. The training has stopped running when no more samples are being retrieved and all callbacks have returned.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-waitself-timeout-1"><code>async wait(self, timeout)</code><a href="#async-waitself-timeout-1" class="hash-link" aria-label="Direct link to async-waitself-timeout-1" title="Direct link to async-waitself-timeout-1">​</a></h3><p>Method to wait for the training to be done.
The training will end normally when all trials of the batch have started processing and all callbacks have returned.
The training can also be stopped, or encounter an error to become done.</p><p>Parameters:</p><ul><li><code>timeout</code>: <em>float</em> - Maximum time to wait in seconds.</li></ul><p>Return: <em>bool</em> - False if timed out, True otherwise. If True, then <code>is_running</code> will also return True.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set_nb_parallel_trialsself-nb_trials"><code>set_nb_parallel_trials(self, nb_trials)</code><a href="#set_nb_parallel_trialsself-nb_trials" class="hash-link" aria-label="Direct link to set_nb_parallel_trialsself-nb_trials" title="Direct link to set_nb_parallel_trialsself-nb_trials">​</a></h3><p>Method to set the number of trials to train in parallel.</p><p>Parameters:</p><ul><li><code>nb_trials</code>: <em>int</em> - Number of trials to train in parallel (&gt;0). If <code>None</code>, no limit will be enforced and all batch trial data will be processed as it becomes available. Default is 1 (i.e. no parallelism, only one trial at a time).</li></ul><p>Return: None</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-batchtrialinfo">class BatchTrialInfo<a href="#class-batchtrialinfo" class="hash-link" aria-label="Direct link to class BatchTrialInfo" title="Direct link to class BatchTrialInfo">​</a></h2><p><code>batch_id</code>: <em>str</em> - ID of the batch</p><p><code>trial_index</code>: <em>int</em> - The index of the trial in the batch. Generally the order the trials were started, and unique in the batch (<code>[0, nb_trials[</code>).</p><p><code>trial_info</code>: <em>cogment.DatastoreTrialInfo</em> - The running trial information. May not always be present.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-trainertrialsession">class TrainerTrialSession<a href="#class-trainertrialsession" class="hash-link" aria-label="Direct link to class TrainerTrialSession" title="Direct link to class TrainerTrialSession">​</a></h2><p>Class to help train a model on a specific batch of trials.</p><p><code>trial_id</code>: <em>str</em> - ID of the trial.</p><p><code>parameters</code>: <em>cogment.TrialParameters instance</em> - Parameters of the trial.</p><p><code>model_registry</code>: <em>cogment.ModelRegistry instance</em> - Common model registry for the whole batch being trained. The TrialRunner argument <code>model_registry_endpoint</code> is used to retrieve this model registry.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-all_samplesself"><code>async all_samples(self)</code><a href="#async-all_samplesself" class="hash-link" aria-label="Direct link to async-all_samplesself" title="Direct link to async-all_samplesself">​</a></h3><p>Method to retrieve all samples from the trial.</p><p>Parameters: None</p><p>Return: <em>generator(cogment.DatastoreSample instance)</em> - A generator for the trial samples that arrive.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="callbacks">Callbacks<a href="#callbacks" class="hash-link" aria-label="Direct link to Callbacks" title="Direct link to Callbacks">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use">Use<a href="#use" class="hash-link" aria-label="Direct link to Use" title="Direct link to Use">​</a></h3><p>These functions are passed to the <a href="#class-cogment_enterpriserunnertrialrunner"><code>TrialRunner.run_simple_batch</code></a> or <a href="#async-run_simple_trainingself-batch-sampler_callback-actor_names"><code>TrialRunner.run_simple_training</code></a> methods and will be called at specific times to request information to the user or provide information to the user.
They can be defined and used in a number of ways.</p><p>Here we take the <code>pre_trial_callback</code> as an example, but the other callbacks are similar, except for parameters and return values:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">my_pre_trial_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BatchTrialInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trial_params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cogment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TrialParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ... Fill in the parameters here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> trial_params</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">runner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TrialRunner</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> my_pre_trial_callback</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Sometimes it is more convenient for the callback to be a method of a class in order to re-use data between calls, or share data with other parts of the program (or other callbacks), in this case it could look like this:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyBatchData</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">my_pre_trial_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BatchTrialInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        trial_params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cogment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TrialParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># ... Fill in the parameters here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> trial_params</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MyBatchData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">runner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TrialRunner</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> my_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">my_pre_trial_callback</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Although rare, it may be inconvenient sometimes to use a class for sharing data, in which case the Python <code>functools</code> module can be used:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> functools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">my_function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">my_data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BatchTrialInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trial_params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cogment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TrialParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ... Fill in the parameters here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> trial_params</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shared_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">actual_callback </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> functools</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">partial</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">my_function</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> shared_data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">runner </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> TrialRunner</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> actual_callback</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre-trial-callback">Pre-Trial Callback<a href="#pre-trial-callback" class="hash-link" aria-label="Direct link to Pre-Trial Callback" title="Direct link to Pre-Trial Callback">​</a></h3><p>This function is passed to the <a href="#class-cogment_enterpriserunnertrialrunner"><code>TrialRunner.run_simple_batch</code></a> method and will be called before any trial is started to define the trial parameters.
It is an <code>asyncio</code> coroutine.</p><p>e.g.:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">my_pre_trial_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> BatchTrialInfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> cogment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TrialParameters</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trial_params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cogment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TrialParameters</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ... Fill in the parameters here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> trial_params</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameters Received:</p><ul><li><code>info</code>: <em>BatchTrialInfo instance</em> - Partially filled info of the trial to start; it does not contain <code>trial_info</code>.</li></ul><p>Expected Return: <em>None or tuple(str, cogment.TrialParameters instance)</em> - The first item of the tuple is the requested trial ID. If the trial ID is <code>None</code>, it will be automatically created using the batch ID and the trial index. The second item of the tuple is the trial parameters that must be fully populated to start the new trial. If the return value is <code>None</code> (instead of a tuple), the trial will not start and the batch will stop (i.e. not start any new trial, but ongoing trials will continue).</p><p>In case of exceptions: Exceptions raised by the callback will do the same as if <code>None</code> was returned.</p><p>Once the parameters are received by the <code>TrialBatch</code>, some data will be added, and some will be overwritten before starting the trial.
These are the <code>TrialParameters</code> attributes changed:</p><ul><li><code>properties</code>: Some properties will be added to the existing properties (see <a href="#module-attributes">Module Attributes</a>). If the property names clash, the user properties will be overwritten. In general, do not start property names with an underscore to prevent such clashes.</li><li><code>datalog_endpoint</code>: This attribute of the trial parameters will be overwritten. If the <code>datastore_endpoint</code> argument of <code>TrialRunner</code> is provided, it will be used. If <code>datastore_endpoint</code> was not provided, or it was <code>None</code>, then the directory will be used to find an appropriate datalog/datastore. The same datastore must be used by both the <code>TrialBatch</code> (as a datalog) and <code>BatchTrainer</code> (as a datastore), so the endpoint should resolve to the same datastore locally and at the Orchestrator (i.e. ideally use the same directory).</li><li><code>datalog_exclude_fields</code>: This attribute will be reset (i.e. not excluding any fields from the datalog).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="post-trial-callback">Post-Trial Callback<a href="#post-trial-callback" class="hash-link" aria-label="Direct link to Post-Trial Callback" title="Direct link to Post-Trial Callback">​</a></h3><p>This function is passed to the <a href="#class-cogment_enterpriserunnertrialrunner"><code>TrialRunner.run_simple_batch</code></a> method and will be called after a trial has ended normally (i.e. was not terminated).
It is an <code>asyncio</code> coroutine.</p><p>e.g.:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">my_post_trial_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ... Do cleanup, tracking, etc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameters Received:</p><ul><li><code>info</code>: <em>BatchTrialInfo instance</em> - The full info of the trial that ended.</li></ul><p>Expected Return: None</p><p>In case of exceptions: All exceptions raised by the callback will be ignored.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sampler-callback">Sampler Callback<a href="#sampler-callback" class="hash-link" aria-label="Direct link to Sampler Callback" title="Direct link to Sampler Callback">​</a></h3><p>This function is passed to the <code>TrialRunner.run_simple_trainer</code> method and will be called for each sample of the trials being run in the batch.
This is asynchronous with the actual running of the trials and uses the Cogment Datastore to retrieve the samples.
It is an <code>asyncio</code> coroutine.</p><p>e.g.:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">my_sampler_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sample</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> trial_parameters</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> model_registry</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ... Train model</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameters Received:</p><ul><li><code>sample</code>: <em>cogment.DatastoreSample instance</em> - Trial sample received.</li><li><code>trial_parameters</code>: <em>cogment.TrialParameters instance</em> - Parameters of the trial from which the sample came from.</li><li><code>model_registry</code>: <em>cogment.ModelRegistry instance</em> - Common model registry for the whole batch being trained. The TrialRunner argument <code>model_registry_endpoint</code> is used to retrieve this model registry.</li></ul><p>Expected Return: <em>None or bool</em> - If <code>None</code> or True, the training will continue normally. If a bool and False, the sampler callback will stop being called, and the <code>BatchTrainer</code> will stop.</p><p>In case of exceptions: If the callback raises an exception, the <code>BatchTrainer</code> will stop at the next sample.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="trial-callback">Trial Callback<a href="#trial-callback" class="hash-link" aria-label="Direct link to Trial Callback" title="Direct link to Trial Callback">​</a></h3><p>This function is passed to the <code>TrialRunner.run_simple_trial_trainer</code> method and will be called for each trial of the batch.
This is asynchronous with the actual running of the trials and uses the Cogment Datastore to retrieve the trial data and samples.
It is an <code>asyncio</code> coroutine.</p><p>e.g.:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">my_trial_callback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">session</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> sample </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> session</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">all_samples</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># ... process sample</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Parameters Received:</p><ul><li><code>session</code>: <em>TrainerTrialSession instance</em> - The session for the trial.</li></ul><p>Expected Return: <em>None or bool</em> - If <code>None</code> or True, continue processing the batch. If a bool and False, stop the <code>BatchTrainer</code>.</p><p>In case of exceptions: If the callback raises an exception, the <code>BatchTrainer</code> will stop immediately.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-07-05T19:00:55.000Z">Jul 5, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference/python-enterprise/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference/grpc"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">gRPC API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general-usage" class="table-of-contents__link toc-highlight">General usage</a><ul><li><a href="#asyncio" class="table-of-contents__link toc-highlight"><code>asyncio</code></a></li><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a></li><li><a href="#trial-specifications" class="table-of-contents__link toc-highlight">Trial Specifications</a></li><li><a href="#top-level-import" class="table-of-contents__link toc-highlight">Top-level import</a></li></ul></li><li><a href="#utilities-and-constants" class="table-of-contents__link toc-highlight">Utilities and Constants</a><ul><li><a href="#cogment_enterpriserunnerbatch_id_property" class="table-of-contents__link toc-highlight"><code>cogment_enterprise.runner.BATCH_ID_PROPERTY</code></a></li><li><a href="#cogment_enterpriserunnerbatch_trial_index_property" class="table-of-contents__link toc-highlight"><code>cogment_enterprise.runner.BATCH_TRIAL_INDEX_PROPERTY</code></a></li><li><a href="#cogment_enterpriserunnerbatch_last_trial_property" class="table-of-contents__link toc-highlight"><code>cogment_enterprise.runner.BATCH_LAST_TRIAL_PROPERTY</code></a></li><li><a href="#cogment_enterpriserunnerdeserialize_actionserialized_data-actor_class-cog_settings" class="table-of-contents__link toc-highlight"><code>cogment_enterprise.runner.deserialize_action(serialized_data, actor_class, cog_settings)</code></a></li><li><a href="#cogment_enterpriserunnerdeserialize_actor_observationserialized_data-actor_class-cog_settings" class="table-of-contents__link toc-highlight"><code>cogment_enterprise.runner.deserialize_actor_observation(serialized_data, actor_class, cog_settings)</code></a></li><li><a href="#cogment_enterpriserunnerdeserialize_actor_configserialized_data-actor_class-cog_settings" class="table-of-contents__link toc-highlight"><code>cogment_enterprise.runner.deserialize_actor_config(serialized_data, actor_class, cog_settings)</code></a></li><li><a href="#cogment_enterpriserunnerdeserialize_environment_configserialized_data-cog_settings" class="table-of-contents__link toc-highlight"><code>cogment_enterprise.runner.deserialize_environment_config(serialized_data, cog_settings)</code></a></li><li><a href="#cogment_enterpriserunnerdeserialize_trial_configserialized_data-cog_settings" class="table-of-contents__link toc-highlight"><code>cogment_enterprise.runner.deserialize_trial_config(serialized_data, cog_settings)</code></a></li></ul></li><li><a href="#class-cogment_enterpriserunnertrialrunner" class="table-of-contents__link toc-highlight">class cogment_enterprise.runner.TrialRunner</a><ul><li><a href="#__init__self-user_id-cog_settingsnone-asyncio_loopnone-directory_endpointnone-directory_auth_tokennone-orchestrator_endpointnone-datastore_endpointnone-model_registrynone" class="table-of-contents__link toc-highlight"><code>__init__(self, user_id, cog_settings=None, asyncio_loop=None, directory_endpoint=None, directory_auth_token=None, orchestrator_endpoint=None, datastore_endpoint=None, model_registry=None)</code></a></li><li><a href="#async-get_controllerself" class="table-of-contents__link toc-highlight"><code>async get_controller(self)</code></a></li><li><a href="#async-get_datastoreself" class="table-of-contents__link toc-highlight"><code>async get_datastore(self)</code></a></li><li><a href="#async-get_model_registryself" class="table-of-contents__link toc-highlight"><code>async get_model_registry(self)</code></a></li><li><a href="#async-run_simple_batchself-nb_trials-nb_parallel_trials1-idnone-pre_trial_callbacknone-post_trial_callbacknone" class="table-of-contents__link toc-highlight"><code>async run_simple_batch(self, nb_trials, nb_parallel_trials=1, id=None, pre_trial_callback=None, post_trial_callback=None)</code></a></li><li><a href="#async-run_simple_trainingself-batch-sampler_callback-actor_namesnone-max_trial_waitnone" class="table-of-contents__link toc-highlight"><code>async run_simple_training(self, batch, sampler_callback, actor_names=None, max_trial_wait=None)</code></a></li><li><a href="#async-run_simple_trial_trainingself-batch-trial_callback-actor_namesnone-max_trial_waitnone" class="table-of-contents__link toc-highlight"><code>async run_simple_trial_training(self, batch, trial_callback, actor_names=None, max_trial_wait=None)</code></a></li></ul></li><li><a href="#class-trialbatch" class="table-of-contents__link toc-highlight">class TrialBatch</a><ul><li><a href="#initself-id-controller-nb_trials-pre_trial_callback-post_trial_callback-datalog_endpoint" class="table-of-contents__link toc-highlight"><strong>init</strong>(self, id, controller, nb_trials, pre_trial_callback, post_trial_callback, datalog_endpoint)</a></li><li><a href="#start_trialsself-nb_trials" class="table-of-contents__link toc-highlight"><code>start_trials(self, nb_trials)</code></a></li><li><a href="#pauseself" class="table-of-contents__link toc-highlight"><code>pause(self)</code></a></li><li><a href="#resumeself" class="table-of-contents__link toc-highlight"><code>resume(self)</code></a></li><li><a href="#stopself" class="table-of-contents__link toc-highlight"><code>stop(self)</code></a></li><li><a href="#terminateself-hardfalse" class="table-of-contents__link toc-highlight"><code>terminate(self, hard=False)</code></a></li><li><a href="#is_runningself" class="table-of-contents__link toc-highlight"><code>is_running(self)</code></a></li><li><a href="#nb_trials_runself" class="table-of-contents__link toc-highlight"><code>nb_trials_run(self)</code></a></li><li><a href="#async-waitself-timeout" class="table-of-contents__link toc-highlight"><code>async wait(self, timeout)</code></a></li></ul></li><li><a href="#class-batchtrainer" class="table-of-contents__link toc-highlight">class BatchTrainer</a><ul><li><a href="#__init__self-batch_spec-datastore-model_registry-trial_callback-max_trial_wait" class="table-of-contents__link toc-highlight"><code>__init__(self, batch_spec, datastore, model_registry, trial_callback, max_trial_wait)</code></a></li><li><a href="#startself-actor_names-actor_classes-actor_implementations-fields" class="table-of-contents__link toc-highlight"><code>start(self, actor_names=[], actor_classes=[], actor_implementations=[], fields=[])</code></a></li><li><a href="#terminateself" class="table-of-contents__link toc-highlight"><code>terminate(self)</code></a></li><li><a href="#async-stopself" class="table-of-contents__link toc-highlight"><code>async stop(self)</code></a></li><li><a href="#is_runningself-1" class="table-of-contents__link toc-highlight"><code>is_running(self)</code></a></li><li><a href="#async-waitself-timeout-1" class="table-of-contents__link toc-highlight"><code>async wait(self, timeout)</code></a></li><li><a href="#set_nb_parallel_trialsself-nb_trials" class="table-of-contents__link toc-highlight"><code>set_nb_parallel_trials(self, nb_trials)</code></a></li></ul></li><li><a href="#class-batchtrialinfo" class="table-of-contents__link toc-highlight">class BatchTrialInfo</a></li><li><a href="#class-trainertrialsession" class="table-of-contents__link toc-highlight">class TrainerTrialSession</a><ul><li><a href="#async-all_samplesself" class="table-of-contents__link toc-highlight"><code>async all_samples(self)</code></a></li></ul></li><li><a href="#callbacks" class="table-of-contents__link toc-highlight">Callbacks</a><ul><li><a href="#use" class="table-of-contents__link toc-highlight">Use</a></li><li><a href="#pre-trial-callback" class="table-of-contents__link toc-highlight">Pre-Trial Callback</a></li><li><a href="#post-trial-callback" class="table-of-contents__link toc-highlight">Post-Trial Callback</a></li><li><a href="#sampler-callback" class="table-of-contents__link toc-highlight">Sampler Callback</a></li><li><a href="#trial-callback" class="table-of-contents__link toc-highlight">Trial Callback</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/guide/core-concepts">Core concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/guide/development-guide">Development guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/cli">CLI reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/python">Python SDK reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/javascript">Javascript SDK reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cogment" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/QDxb9Fweqr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/AI_Redefined" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/ai-r" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/AIRedefined/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">AI Redefined</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ai-r.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ai-r.com/solutions/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Solutions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ai-r.com/about-air/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About AIR<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ai-r.com/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">News<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ai-r.com/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 AI Redefined Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.6978e51c.js"></script>
<script src="/assets/js/main.3dd2e782.js"></script>
</body>
</html>