<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-reference/javascript">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-146998765-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-rh="true">Javascript SDK | Cogment</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://cogment.ai/img/cogment_logo_meta.png"><meta data-rh="true" name="twitter:image" content="https://cogment.ai/img/cogment_logo_meta.png"><meta data-rh="true" property="og:url" content="https://cogment.ai/docs/reference/javascript"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Javascript SDK | Cogment"><meta data-rh="true" name="description" content="Repository Latest release"><meta data-rh="true" property="og:description" content="Repository Latest release"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://cogment.ai/docs/reference/javascript"><link data-rh="true" rel="alternate" href="https://cogment.ai/docs/reference/javascript" hreflang="en"><link data-rh="true" rel="alternate" href="https://cogment.ai/docs/reference/javascript" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.65535aaa.css">
<link rel="preload" href="/assets/js/runtime~main.38b8a419.js" as="script">
<link rel="preload" href="/assets/js/main.fd911421.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cogment_logo.svg" alt="Cogment" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/cogment_logo.svg" alt="Cogment" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Documentation</a><a href="https://github.com/cogment" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/community-channels">Community</a><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/community-channels">Community</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/guide/core-concepts">Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/core-concepts">Core Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/development-guide">Development guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/guide/tutorial">Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/guide/implementation-recipes">Implementation Recipes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Implementation Recipes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/reference/cogment-yaml">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/cogment-yaml">Spec File</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/parameters">Trial Parameters</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/reference/cli">CLI</a><button aria-label="Toggle the collapsible sidebar category &#x27;CLI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/python">Python SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/javascript">Javascript SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/grpc">gRPC API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/cogment-v2-changes">Cogment 2.0</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/license">Apache License</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Javascript SDK</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Javascript SDK</h1><p><a href="https://github.com/cogment/cogment-js-sdk" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/badge/repository-cogment%2Fcogment--js--sdk-%235217b8?style=for-the-badge&amp;logo=github" alt="Repository" class="img_ev3q"></a> <a href="https://www.npmjs.com/package/@cogment/cogment-js-sdk" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/npm/v/@cogment/cogment-js-sdk?style=for-the-badge" alt="Latest release" class="img_ev3q"></a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">​</a></h2><p>The simplest way to install the Javascript SDK is to just install it using npm:
<code>npm install @cogment/cogment-js-sdk</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-usage">General usage<a class="hash-link" href="#general-usage" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-spec-file">The spec file<a class="hash-link" href="#the-spec-file" title="Direct link to heading">​</a></h3><p>The specifications of a trial type are contained in a <a href="/docs/reference/cogment-yaml">spec file</a> and the imported files defined in the spec. This file is typically named <code>cogment.yaml</code>.</p><p>For example, an <a href="/docs/guide/core-concepts#actors">actor</a> class is defined by its required observation space and action space.</p><p>These &quot;spaces&quot; are defined by using protobuf message types (from the imported files). <a href="/docs/guide/core-concepts#observations--actions">Observations and actions</a> will simply be instances of the appropriate type.</p><p>Messages and feedback user data don&#x27;t have a set type, they can be any type as long as the receiver can manage that type. The type is determined by the provided message from the originator.</p><p>They will mostly arrive as an instance of <code>cogment.MessageBase</code> and have fields according to their definition in your proto files.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="trial-parameters">Trial Parameters<a class="hash-link" href="#trial-parameters" title="Direct link to heading">​</a></h3><p>The trial <a href="/docs/reference/parameters">parameters</a> can come from the default parameters provided to the Orchestrator on startup, or from the pre-trial hooks (themselves provided to the Orchestrator on startup).</p><p>The parameters are mostly indepedent of the spec file (cogment.yaml), except that the active actors listed in the parameters must have their actor class match an actor class defined in the spec file.</p><p>Below, when we refer to the trial parameters, we mean the final parameters after any pre-trial hooks.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="compiling-the-spec-file">Compiling the spec file<a class="hash-link" href="#compiling-the-spec-file" title="Direct link to heading">​</a></h4><p>In order to use the specification found in the spec file within Javascript scripts, it needs to be compiled into Javascript modules. This is done by a tool called &quot;cogment-js-sdk-generate&quot;.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cogsettingsjs">CogSettings.js<a class="hash-link" href="#cogsettingsjs" title="Direct link to heading">​</a></h3><p>All API entry points require a cogment specification object. This specification object can be determined
from the content of a project&#x27;s spec file. As such, it should be generated using the <code>cogment-js-sdk-generate</code> tool</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npx cogment-js-sdk-generate config.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will generate both a <code>CogSettings.js</code> file, as well as any required compiled protocol buffer files.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="imports">Imports<a class="hash-link" href="#imports" title="Direct link to heading">​</a></h3><p>Whether a script implements an actor or environment, it should import both the <code>cogment</code> module (generic Javascript SDK for Cogment) and the <code>cogSettings</code> module (project specific definitions created from the spec file).</p><div class="language-Javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import { cogSettings } from &#x27;./CogSettings&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import * as cogment from &#x27;@cogment/cogment-js-sdk&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-cogmentcontext">class cogment.Context<a class="hash-link" href="#class-cogmentcontext" title="Direct link to heading">​</a></h2><p>Class to setup and run all the different aspects of trials.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="constructoruserid-cogsettings"><code>constructor(userId, cogSettings)</code><a class="hash-link" href="#constructoruserid-cogsettings" title="Direct link to heading">​</a></h3><p>Parameters:</p><ul><li><code>userId</code>: <em>string</em> - Identifier for the user of this context.</li><li><code>cogSettings</code>: <em>cogment.CogSettings</em> - Settings module associated with trials that will be run (<a href="#cog_settings.py">cogSettings</a> namespace).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getcontrollerendpoint"><code>getController(endpoint)</code><a class="hash-link" href="#getcontrollerendpoint" title="Direct link to heading">​</a></h3><p>Method to get a controller instance to manage trials (start, stop, inquire, etc).</p><p>Parameters:</p><ul><li><code>endpoint</code>: <em>string</em> - URL of the connection to the Orchestrator.</li></ul><p>Return: <em>Controller</em> - An instance of the Controller class used to manage trials.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-jointrialtrialid-endpoint-actorname"><code>async joinTrial(trialId, endpoint, actorName)</code><a class="hash-link" href="#async-jointrialtrialid-endpoint-actorname" title="Direct link to heading">​</a></h3><p>Method for an actor to asynchronously join an existing trial. This task will normally end after the user implementation has exited.</p><p>Parameters:</p><ul><li><code>trialId</code>: <em>string</em> - The UUID of the trial to join.</li><li><code>endpoint</code>: <em>string</em> - URL of the connection to the Orchestrator.</li><li><code>actorName</code>: <em>string</em> - Name of the actor joining the trial.</li></ul><p>Return: void</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="registeractorimpl-actorname-actorclass"><code>registerActor(impl, actorName, actorClass)</code><a class="hash-link" href="#registeractorimpl-actorname-actorclass" title="Direct link to heading">​</a></h3><p>Method to register the asynchronous callback function that will run an actor for a trial.</p><p>Parameters:</p><ul><li><code>impl</code>: <em>async function(ActorSession instance)</em> - Callback function to be registered.</li><li><code>actorName</code>: <em>string</em> - Name for the actor implementation being run by the given callback function.</li><li><code>actorClass</code>: <em>string</em> - The actor class name that can be run by the given callback function. The possible names are specified in spec file under section <code>actorClasses:name</code>. If the list is empty, this implementation can run any actor class.</li></ul><p>Return: void</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-controller">class Controller<a class="hash-link" href="#class-controller" title="Direct link to heading">​</a></h2><p>Class containing data and methods to control and manage trials.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-starttrialtrialconfig--undefined-trialidrequested--undefined"><code>async startTrial(trialConfig = undefined, trialIdRequested = undefined)</code><a class="hash-link" href="#async-starttrialtrialconfig--undefined-trialidrequested--undefined" title="Direct link to heading">​</a></h3><p>Method to start a new trial. The parameters of the trial will be set by the pre-trial hooks (registered in <code>cogment.Context</code>), and the hooks will receive the provided trial config.</p><p>Parameters:</p><ul><li><code>trialConfig</code>: <em>cogment.MessageBase</em> - Configuration for the trial. The type is specified in the spec file under the section <code>trial:config_type</code>. Can be <code>undefined</code> if no configuration is provided. This is provided to the first pre-trial hook.</li><li><code>trialIdRequested</code>: <em>string</em> - The trial identifier requested for the new trial. It must be unique among all active trials and a limited set of the latest ended trials (this list of trials can be retrieved with <code>getTrialInfo</code> or <code>watchTrial</code>). If provided, the Orchestrator will try to use this trialId, otherwise, a UUID will be created.</li></ul><p>Return: <em>string</em> - The newly started trial ID.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="terminatetrialtrialids-hard--false"><code>terminateTrial(trialIds, hard = false)</code><a class="hash-link" href="#terminatetrialtrialids-hard--false" title="Direct link to heading">​</a></h3><p>Method to request the end of a trial.</p><p>Parameters:</p><ul><li><code>trialIds</code>: <em>string[]</em> - The trial ID(s) to request to terminate. There must be at least one ID.</li><li><code>hard</code>: <em>boolean</em> - If <code>true</code>, the termination will be forced and not wait for any action or observation. If <code>false</code>, the trial will wait for the next tick, to end gracefully (i.e. wait for the next full set of actions and response observations).</li></ul><p>Return: void</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-gettrialinfotrialids"><code>async getTrialInfo(trialIds)</code><a class="hash-link" href="#async-gettrialinfotrialids" title="Direct link to heading">​</a></h3><p>Method to get information about a trial.</p><p>Parameters:</p><ul><li><code>trialIds</code>: <em>string[]</em> - The trial ID(s) from which to request information. If no ID is provided, returns information about all trials. Note that ended trials may only appear for a short time in this list after they have ended.</li></ul><p>Return: <em>TrialInfo[]</em> - List of trial information, one per trial. Can be empty if no trial matches.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-watchtrialstrialstatefilters"><code>async watchTrials(trialStateFilters=[])</code><a class="hash-link" href="#async-watchtrialstrialstatefilters" title="Direct link to heading">​</a></h3><p>Generator method to iterate, in real-time, through all trial states matching the filters. When called, it will first iterate over the current states matching the filters, for all trials. Afterwards, it will iterate in real-time over the matching states as they change.</p><p>Parameters:</p><ul><li><code>trialStateFilters</code>: <em>cogment.TrialState[]</em> - List of enum values from <code>cogment.TrialState</code> for which we are interested in receiving state changes.</li></ul><p>Return: <em>generator(TrialInfo instance)</em> - A generator for the state changes that arrive. The <code>TrialInfo</code> received here only contains the trial ID and the state.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-getactorstrialid"><code>async getActors(trialId)</code><a class="hash-link" href="#async-getactorstrialid" title="Direct link to heading">​</a></h3><p>Method to get the list of configured actors in a trial.</p><p>Parameters:</p><ul><li><code>trialId</code>: <em>string</em> - The trial ID from which to request the list of actors.</li></ul><p>Return: ActorInfo[] - List of actors configured in this trial.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-getremoteversions"><code>async getRemoteVersions()</code><a class="hash-link" href="#async-getremoteversions" title="Direct link to heading">​</a></h3><p>Method to get the versions from the remote Orchestrator.</p><p>Parameters: None</p><p>Return: <em>{<!-- -->[key: string]<!-- -->: string}</em> - The key of the object is the name of the component (<em>string</em>), and the value is the version (<em>string</em>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-session">class Session<a class="hash-link" href="#class-session" title="Direct link to heading">​</a></h2><p>Abstract class that manages aspects of a trial. Contains data and methods common to all sessions .</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gettrialid"><code>getTrialId()</code><a class="hash-link" href="#gettrialid" title="Direct link to heading">​</a></h3><p>Method to get the UUID of the trial managed by this session.</p><p>Parameters: None</p><p>Return: <em>string</em> - UUID of the trial.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="gettickid"><code>getTickId()</code><a class="hash-link" href="#gettickid" title="Direct link to heading">​</a></h3><p>Method to get the current tick id of the trial (i.e. time step).</p><p>Parameters: None</p><p>Return: <em>number</em> - The current tick id.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="istrialover"><code>isTrialOver()</code><a class="hash-link" href="#istrialover" title="Direct link to heading">​</a></h3><p>Method to inquire if the current trial has ended.</p><p>Parameters: None</p><p>Return: <em>boolean</em> - True if the trial has ended, false otherwise.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sendingdone"><code>sendingDone()</code><a class="hash-link" href="#sendingdone" title="Direct link to heading">​</a></h3><p>Method to notify the Orchestrator that all data for the trial, from this session, has been sent. This can be called only when the session is ending. When starting the session (see <code>ActorSession</code>), if the <code>autoDoneSending</code> parameter is True, this method should not be called, and if the parameter is False, it MUST be called to end the trial properly.</p><p>Parameters: None</p><p>Return: void</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-actorsession-extends-session">class ActorSession extends Session<a class="hash-link" href="#class-actorsession-extends-session" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="startautodonesendingtrue"><code>start(autoDoneSending=True)</code><a class="hash-link" href="#startautodonesendingtrue" title="Direct link to heading">​</a></h3><p>Method to start the actor. This method should be called before any other method in the session.</p><p>Parameters:</p><ul><li><code>autoDoneSending</code>: <em>boolean</em> - Controls when to notify the Orchestrator that all data has been sent. If True, the session will automatically send the notification after receiving the last observation. If False, the user MUST call <code>sendingDone</code> to end the trial properly.</li></ul><p>Return: void</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="async-eventloop"><code>async *eventLoop()</code><a class="hash-link" href="#async-eventloop" title="Direct link to heading">​</a></h3><p>Generator method to iterate over all events (observations, rewards, messages) as they are received. This will block and wait for an event.
When this generator exits, the callback function (registered with <code>registerActor</code>) should return to end the trial cleanly.
The generator will exit for various reasons indicating the end of the trial, a loss of communication with the orchestrator, or if the generator is sent &quot;False&quot;.</p><p>Parameters: None</p><p>Return: <em>AsyncGenerator&lt;RecvEvent<!-- -->&gt;</em> - A generator for the events that arrive. The <code>RecvEvent</code> instances received from this generator will not contain actions. When receiving an observation in the event, the <code>this.doAction</code> method is normally used to &quot;reply&quot; (if the event type is <code>EventType.ACTIVE</code>).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="doactionaction"><code>doAction(action)</code><a class="hash-link" href="#doactionaction" title="Direct link to heading">​</a></h3><p>Method to send actions to the environment.</p><p>Parameters:</p><ul><li><code>action</code>: <em>ActionT</em> - An instance of the action space class specified in the corresponding section <code>actorClasses:action:space</code> of the spec file. If <code>undefined</code>, then no action space is sent (empty content) and the environment will receive a default initialized action space of the appropriate type.</li></ul><p>Return: void</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sendmessagepayload-to"><code>sendMessage(payload, to)</code><a class="hash-link" href="#sendmessagepayload-to" title="Direct link to heading">​</a></h3><p>Method to send a message related to the current time step (tick id).</p><p>Parameters:</p><ul><li><code>payload</code>: <em>cogment.MessageBase</em> - The message data to be sent. The class can be any protobuf class. It is the responsibility of the receiving actor to manage the class received.</li><li><code>to</code>: <em>string[]</em> - Targets of feedback. Each value could be the name of an actor in the trial, or the name of the environment (from <code>this.envName</code>). Or it could represent a set of actors (with wildcards); A set of actors can be represented with the wildcard character &quot;<code>*</code>&quot; for all actors (of all classes), or &quot;<code>actorClass.*</code>&quot; for all actors of a specific class (the <code>actorClass</code> must match one of the classes listed in the trial parameters). Note that the wildcard does not include the environment.</li></ul><p>Return: void</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enum-cogmenttrialstate">enum cogment.TrialState<a class="hash-link" href="#enum-cogmenttrialstate" title="Direct link to heading">​</a></h2><p>Enum representing the various states of trials.</p><ul><li>UNKNOWN: Should not be used.</li><li>INITIALIZING: The trial is in the process of starting.</li><li>PENDING: The trial is waiting for its final parameters, before running.</li><li>RUNNING: The trial is running.</li><li>TERMINATING: The trial is in the process of terminating (either a request to terminate has been received or the last observation has been received).</li><li>ENDED: The trial has ended. Only a set number of ended trials will be kept (configured in the Orchestrator).</li></ul><p>For further information on trial lifetime, check the <a href="/docs/guide/development-guide#trial-lifetime">dedicated section</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-trialinfo">class TrialInfo<a class="hash-link" href="#class-trialinfo" title="Direct link to heading">​</a></h2><p>Class enclosing the details of a trial.</p><p><code>trialId</code>: <em>string</em> - The trial ID to which the details pertain.</p><p><code>state</code>: <em>cogment.TrialState</em> - The current state of the trial.</p><p><code>envName</code>: <em>string</em> - The name of the environment running the trial.</p><p><code>tickId</code>: <em>number</em> - The time step that the information relates to. Only provided from a call to <code>getTrialInfo</code>.</p><p><code>duration</code>: <em>number</em> - The time (in nanoseconds) that the trial has run. Only provided from a call to <code>getTrialInfo</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-recvevent">class RecvEvent<a class="hash-link" href="#class-recvevent" title="Direct link to heading">​</a></h2><p>Class representing a received event (for environments and actors). It can contain any combination of data according to the receiver needs, or even be empty, but it will always have a type.</p><p><code>type</code>: <em>EventType</em> - Type of event the enclosed data represents.</p><p><code>observation</code>: <em>ObservationT</em> - Observation data. This can only be received by actors. <code>undefined</code> if not present.</p><p><code>actions</code>: <em>ActionT</em> - Action data from actors. This can only be received by the environment. The list is empty if not present.</p><p><code>rewards</code>: <em>Reward[]</em> - Reward values and data. This can only be received by actors. The list is empty if not present.</p><p><code>messages</code>: <em>MessageBase[]</em> - Message data. The list is empty if not present.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enum-cogmenteventtype">enum cogment.EventType<a class="hash-link" href="#enum-cogmenteventtype" title="Direct link to heading">​</a></h3><p>Enum representing the type of an event.</p><ul><li><p><code>EventType.NONE</code>: Empty event. This kind of event should never be received.</p></li><li><p><code>EventType.ACTIVE</code>: Normal event from an active trial. Most events will be of this type.</p></li><li><p><code>EventType.ENDING</code>: Events from a trial in the process of ending. For the environment, this means that these events contain the last actions from the actors, and the trial is awaiting a final observation. For the actors, this means that the trial is ending and no action can/need to be sent in response. Note that because of network timing, there may be <code>ACTIVE</code> events (e.g. rewards or messages) arriving after some <code>ENDING</code> events, but the trial is ending regardless.</p></li><li><p><code>EventType.FINAL</code>: Final event for the trial. This does not contain data. The event loop will exit after this event is delivered. This event can be ignored if nothing needs to be done before exiting the loop.</p></li></ul><p>For further information on trial lifetime, check the <a href="/docs/guide/development-guide#trial-lifetime">dedicated section</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="type-observationt">type ObservationT<a class="hash-link" href="#type-observationt" title="Direct link to heading">​</a></h2><p>Type containing the details of an actor&#x27;s observation. This will be different depending on what the ActionSpace defined in your spec file contains</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="type-actiont">type ActionT<a class="hash-link" href="#type-actiont" title="Direct link to heading">​</a></h2><p>Type containing the details of an action from an actor. This will be different depending on what the ActionSpace defined in your spec file contains</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="class-messagebase">class MessageBase<a class="hash-link" href="#class-messagebase" title="Direct link to heading">​</a></h2><p>Base Class of all messages, this will contain different fields depending on what fields are in the specific message you are receiving (defined in proto files)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="type-reward">type Reward<a class="hash-link" href="#type-reward" title="Direct link to heading">​</a></h2><p>type containing the details of a received reward.</p><p><code>tickId</code>: <em>number</em> - The tick id (time step) for which the reward should be applied.</p><p><code>receiverName</code>: <em>string</em> - Name of the receiver for the reward (the name of an actor, or wildcard string).</p><p><code>value</code>: <em>float</em> - Value of the reward (aggregated from the sources)</p><p><code>sources</code>: <em>IRewardSource[]</em> - List of sources that gave this reward</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="interface-irewardsource">interface IRewardSource<a class="hash-link" href="#interface-irewardsource" title="Direct link to heading">​</a></h2><p><code>senderName</code>: <em>string</em> - Name of the reward sender;</p><p><code>value</code>: <em>number</em> - Value of the reward;</p><p><code>confidence</code>: <em>number</em> - Confidence of this reward;</p><p><code>userData</code>: <em>google.protobuf.IAny</em> - Extra data;</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-07-25T13:08:56.000Z">7/25/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference/python"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Python SDK</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference/grpc"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">gRPC API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a></li><li><a href="#general-usage" class="table-of-contents__link toc-highlight">General usage</a><ul><li><a href="#the-spec-file" class="table-of-contents__link toc-highlight">The spec file</a></li><li><a href="#trial-parameters" class="table-of-contents__link toc-highlight">Trial Parameters</a></li><li><a href="#cogsettingsjs" class="table-of-contents__link toc-highlight">CogSettings.js</a></li><li><a href="#imports" class="table-of-contents__link toc-highlight">Imports</a></li></ul></li><li><a href="#class-cogmentcontext" class="table-of-contents__link toc-highlight">class cogment.Context</a><ul><li><a href="#constructoruserid-cogsettings" class="table-of-contents__link toc-highlight"><code>constructor(userId, cogSettings)</code></a></li><li><a href="#getcontrollerendpoint" class="table-of-contents__link toc-highlight"><code>getController(endpoint)</code></a></li><li><a href="#async-jointrialtrialid-endpoint-actorname" class="table-of-contents__link toc-highlight"><code>async joinTrial(trialId, endpoint, actorName)</code></a></li><li><a href="#registeractorimpl-actorname-actorclass" class="table-of-contents__link toc-highlight"><code>registerActor(impl, actorName, actorClass)</code></a></li></ul></li><li><a href="#class-controller" class="table-of-contents__link toc-highlight">class Controller</a><ul><li><a href="#async-starttrialtrialconfig--undefined-trialidrequested--undefined" class="table-of-contents__link toc-highlight"><code>async startTrial(trialConfig = undefined, trialIdRequested = undefined)</code></a></li><li><a href="#terminatetrialtrialids-hard--false" class="table-of-contents__link toc-highlight"><code>terminateTrial(trialIds, hard = false)</code></a></li><li><a href="#async-gettrialinfotrialids" class="table-of-contents__link toc-highlight"><code>async getTrialInfo(trialIds)</code></a></li><li><a href="#async-watchtrialstrialstatefilters" class="table-of-contents__link toc-highlight"><code>async watchTrials(trialStateFilters=[])</code></a></li><li><a href="#async-getactorstrialid" class="table-of-contents__link toc-highlight"><code>async getActors(trialId)</code></a></li><li><a href="#async-getremoteversions" class="table-of-contents__link toc-highlight"><code>async getRemoteVersions()</code></a></li></ul></li><li><a href="#class-session" class="table-of-contents__link toc-highlight">class Session</a><ul><li><a href="#gettrialid" class="table-of-contents__link toc-highlight"><code>getTrialId()</code></a></li><li><a href="#gettickid" class="table-of-contents__link toc-highlight"><code>getTickId()</code></a></li><li><a href="#istrialover" class="table-of-contents__link toc-highlight"><code>isTrialOver()</code></a></li><li><a href="#sendingdone" class="table-of-contents__link toc-highlight"><code>sendingDone()</code></a></li></ul></li><li><a href="#class-actorsession-extends-session" class="table-of-contents__link toc-highlight">class ActorSession extends Session</a><ul><li><a href="#startautodonesendingtrue" class="table-of-contents__link toc-highlight"><code>start(autoDoneSending=True)</code></a></li><li><a href="#async-eventloop" class="table-of-contents__link toc-highlight"><code>async *eventLoop()</code></a></li><li><a href="#doactionaction" class="table-of-contents__link toc-highlight"><code>doAction(action)</code></a></li><li><a href="#sendmessagepayload-to" class="table-of-contents__link toc-highlight"><code>sendMessage(payload, to)</code></a></li></ul></li><li><a href="#enum-cogmenttrialstate" class="table-of-contents__link toc-highlight">enum cogment.TrialState</a></li><li><a href="#class-trialinfo" class="table-of-contents__link toc-highlight">class TrialInfo</a></li><li><a href="#class-recvevent" class="table-of-contents__link toc-highlight">class RecvEvent</a><ul><li><a href="#enum-cogmenteventtype" class="table-of-contents__link toc-highlight">enum cogment.EventType</a></li></ul></li><li><a href="#type-observationt" class="table-of-contents__link toc-highlight">type ObservationT</a></li><li><a href="#type-actiont" class="table-of-contents__link toc-highlight">type ActionT</a></li><li><a href="#class-messagebase" class="table-of-contents__link toc-highlight">class MessageBase</a></li><li><a href="#type-reward" class="table-of-contents__link toc-highlight">type Reward</a></li><li><a href="#interface-irewardsource" class="table-of-contents__link toc-highlight">interface IRewardSource</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/guide/core-concepts">Core concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/guide/development-guide">Development guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/cli">CLI reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/python">Python SDK reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/javascript">Javascript SDK reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/cogment" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/QDxb9Fweqr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/AI_Redefined" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/ai-r" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/AIRedefined/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">AI Redefined</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ai-r.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ai-r.com/solutions/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Solutions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ai-r.com/about-air/" target="_blank" rel="noopener noreferrer" class="footer__link-item">About AIR<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ai-r.com/news/" target="_blank" rel="noopener noreferrer" class="footer__link-item">News<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ai-r.com/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 AI Redefined Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.38b8a419.js"></script>
<script src="/assets/js/main.fd911421.js"></script>
</body>
</html>